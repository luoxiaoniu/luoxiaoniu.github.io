<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>MyShoppingList</title>
	<link rel="stylesheet" type="text/css" href="../css/reset.css">
	<link rel="stylesheet" type="text/css" href="../css/main.css">
	<script src="../js/angular.min.js"></script>
</head>
<body>
	<div ng-app="myShoppingList" ng-controller="myCtrl" class="wrap">
		<ul>
			<li ng-repeat="x in products">
				{{x}}
				<span ng-click="removeItem()">&times;</span>
			</li>
		</ul>
		<input ng-model="addMe">
		<button ng-click="addItem()">Add</button>
		<p>{{errortext}}</p>
	</div>
	<script type="text/javascript">
		var app=angular.module("myShoppingList",[]);
		app.controller("myCtrl",function($scope){
			$scope.products=["Milk","Bread","Cheese"];
			$scope.addItem=function(){
				$scope.errortext="";
				if(!$scope.addMe){return;}
				if($scope.products.indexOf($scope.addMe)==-1){
					$scope.products.push($scope.addMe);
				}else{
					$scope.errortext="The item is already in your shopping list!";
				}		
			}
			$scope.removeItem=function(x){
				$scope.errortext="";
				$scope.products.splice(x,1);
			}
		})
	</script>
</body>
</html>